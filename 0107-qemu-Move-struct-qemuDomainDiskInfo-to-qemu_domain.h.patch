From: Peter Krempa <pkrempa@redhat.com>
Date: Fri, 20 May 2016 07:21:04 +0200
Subject: [PATCH] qemu: Move struct qemuDomainDiskInfo to qemu_domain.h

(cherry picked from commit 5f963d89b1220460fadb1bf6fc347d26b311c1b2)
---
 src/qemu/qemu_conf.h        | 7 -------
 src/qemu/qemu_domain.h      | 7 +++++++
 tests/qemumonitorjsontest.c | 2 +-
 3 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/src/qemu/qemu_conf.h b/src/qemu/qemu_conf.h
index a714b84..1fdef70 100644
--- a/src/qemu/qemu_conf.h
+++ b/src/qemu/qemu_conf.h
@@ -287,13 +287,6 @@ virCapsPtr virQEMUDriverCreateCapabilities(virQEMUDriverPtr driver);
 virCapsPtr virQEMUDriverGetCapabilities(virQEMUDriverPtr driver,
                                         bool refresh);
 
-struct qemuDomainDiskInfo {
-    bool removable;
-    bool locked;
-    bool tray_open;
-    int io_status;
-};
-
 typedef struct _qemuSharedDeviceEntry qemuSharedDeviceEntry;
 typedef qemuSharedDeviceEntry *qemuSharedDeviceEntryPtr;
 
diff --git a/src/qemu/qemu_domain.h b/src/qemu/qemu_domain.h
index 54d7bd7..ada4a17 100644
--- a/src/qemu/qemu_domain.h
+++ b/src/qemu/qemu_domain.h
@@ -238,6 +238,13 @@ struct _qemuDomainDiskPrivate {
     bool migrating; /* the disk is being migrated */
 };
 
+struct qemuDomainDiskInfo {
+    bool removable;
+    bool locked;
+    bool tray_open;
+    int io_status;
+};
+
 typedef enum {
     QEMU_PROCESS_EVENT_WATCHDOG = 0,
     QEMU_PROCESS_EVENT_GUESTPANIC,
diff --git a/tests/qemumonitorjsontest.c b/tests/qemumonitorjsontest.c
index 1be0bee..cb917c2 100644
--- a/tests/qemumonitorjsontest.c
+++ b/tests/qemumonitorjsontest.c
@@ -22,7 +22,7 @@
 #include "testutils.h"
 #include "testutilsqemu.h"
 #include "qemumonitortestutils.h"
-#include "qemu/qemu_conf.h"
+#include "qemu/qemu_domain.h"
 #include "qemu/qemu_monitor_json.h"
 #include "virthread.h"
 #include "virerror.h"
